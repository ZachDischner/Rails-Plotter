<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">

<title>class Plot - Rails Application Documentation</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>app/models/plot.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link">ActiveRecord::Base
  
</nav>

    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-i-all_checkboxes_false">#all_checkboxes_false</a>
    
    <li><a href="#method-i-all_checkboxes_true">#all_checkboxes_true</a>
    
    <li><a href="#method-i-convert_date">#convert_date</a>
    
    <li><a href="#method-i-date_invalid">#date_invalid</a>
    
    <li><a href="#method-i-default_selections">#default_selections</a>
    
    <li><a href="#method-i-dygraph_body">#dygraph_body</a>
    
    <li><a href="#method-i-dygraph_head">#dygraph_head</a>
    
    <li><a href="#method-i-dygraph_options">#dygraph_options</a>
    
    <li><a href="#method-i-filter_table">#filter_table</a>
    
    <li><a href="#method-i-linear_reg">#linear_reg</a>
    
    <li><a href="#method-i-linear_reg_buttons">#linear_reg_buttons</a>
    
    <li><a href="#method-i-list_vars">#list_vars</a>
    
    <li><a href="#method-i-put_checkboxes">#put_checkboxes</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./doc/README_FOR_APP.html">README_FOR_APP</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./ApplicationController.html">ApplicationController</a>
  
    <li><a href="./ApplicationHelper.html">ApplicationHelper</a>
  
    <li><a href="./DocController.html">DocController</a>
  
    <li><a href="./Plot.html">Plot</a>
  
    <li><a href="./PlotsController.html">PlotsController</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class Plot</h1>

  <div id="description" class="description">
    
<p>*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=* <a
href="Plot.html">Plot</a> Class
=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*#</p>

<pre> Written by:
            Zach Dischner for personal and LASP scientific uses
 Updated:
            May 1, 2012
 Contact:
            zach.dischner@lasp.colorado.edu
            zach.dischner@gmail.com
Purpose:
 The Plot Class has two main tasks:
     1. Define methods to query your database to select appropriate data
     2. Take that data and dynamically generate HTML/dygraphs logic.
     3. Generate Javascript utils for interacting with graphs. This showcases the app's
          Dynamic ability to employ Javascript capabilities on the fly.

 Plot HTML templates can be found in the   &gt;&gt;/app/views/layouts/plot_template.html.erb
 This template defines the proper methodology to implement Plot methods to generate relevant dygraphs HTML.

 The general procedure for generating a single dygraphs plot in an HTML page is as follows:
         1. Appropriate a div for the plot ( &quot;graphdiv#&quot; )
         2. Create a new Javascript dygraphs element ( &quot;g#&quot; )
         3. Generate the header for the graph. This allows a legend to correlate values with variable names
         4. Generate the graph content, or the body of the graph. This parses database values contained in the
            @plot object into a string recognizable by dygraphs functions.
         5. Generate dygraphs option specifications for each graph.
         6. Generate linear regression Javascript logic and HTML if wanted.
         7. Generate checkbox logic and HTML elements if wanted.

 Each of these tasks is made to be dynamic and iterative, so as to provide means to plot any generic dataset.
 Also note that each of these tasks is closely related with the other. Changing one will have a high probability
    changing the others. Javascripts, HTML, and RoR all are inter-related. BEWARE!!!

 On that note, this IS designed to be extremely generic. Changing functionality to fit your specific application will
    likely make more sense eventually. Instead of the current procedure of looping through the @plot object, and
    &quot;send&quot;ing the variable names, you'll know exactly what you want your @plot variable will look like, and what
    from it you'll want to plot. Now, this all doesn't really look like OO programming, or a typical RoR app. Once
    you get a more solid base, you should modify the app to behave more like a typical RoR app, if you want to.

BUGS TO FIX:
    * Slight bug in linear regression rendering for multiple plot windows. Once regressions are calculated and drawn
      in one window, moving to another graph window and calculating a single regression results in that regression being
      correctly drawn, but the previously calculated regression data from the first window also gets drawn for the
      buttons not clicked.</pre>

<p>&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;#</p>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-all_checkboxes_false" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">all_checkboxes_false</span><span
            class="method-args">(list)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*= <a
href="Plot.html#method-i-all_checkboxes_false">#all_checkboxes_false</a> 
*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=#</p>

<pre>Same as &gt;&gt;all_checkbox_true() except that using this function turns all plots
off initially</pre>

<p>&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;#</p>
          

          
          <div class="method-source-code" id="all_checkboxes_false-source">
            <pre><span class="ruby-comment"># File app/models/plot.rb, line 258</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">all_checkboxes_false</span>(<span class="ruby-identifier">list</span>)
  <span class="ruby-keyword">return</span> ([<span class="ruby-string">&quot;false&quot;</span>]*(<span class="ruby-identifier">list</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>)).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- all_checkboxes_false-source -->
          
        </div>

        

        
      </div><!-- all_checkboxes_false-method -->

    
      <div id="method-i-all_checkboxes_true" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">all_checkboxes_true</span><span
            class="method-args">(list)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*= <a
href="Plot.html#method-i-all_checkboxes_true">#all_checkboxes_true</a> 
*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*#</p>

<pre>Purpose:                                                                              #
    Generate list of true/false strings. Not complicated, just replicates             #
    'true' or 'false' for placement in dygraphs options                               #
Inputs:                                                                               #
    list: Array of strings. Each of which represents an individual line to be         #
          plotted                                                                     #
Outputs:                                                                              #
    String. HTML formatted list of 'true's to use when initially setting line         #
    visibility/checkbox selection                                                     #
Calling:                                                                              #
        &gt;&gt; @plot.first.all_checkboxes_true(params[:y_var])                            #
    Makes a list of 'true' for each member of params[:y_var]                          #
Example:                                                                              #
    If the Y variables of a plot are contained within an array as:                    #
        &gt;&gt;params[:y_var] = ['y1','y2']                                                #
    Then inside the method &gt;&gt;dygraph_options() (or if relocated directly to a view)   #
        visibility: &lt;%=                                                               #
                render :inline =&gt; @plot.first.all_checkboxes_true(params[:y_var])     #
                     %&gt;                                                               #
    When used in conjunction with checkboxes, this marks which plot lines are         #
    visibly when the plot shows up, and which are not.                                #
                                                                                      #</pre>

<p>&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;#</p>
          

          
          <div class="method-source-code" id="all_checkboxes_true-source">
            <pre><span class="ruby-comment"># File app/models/plot.rb, line 248</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">all_checkboxes_true</span>(<span class="ruby-identifier">list</span>)
  <span class="ruby-keyword">return</span> ([<span class="ruby-string">&quot;true&quot;</span>]*(<span class="ruby-identifier">list</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>)).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- all_checkboxes_true-source -->
          
        </div>

        

        
      </div><!-- all_checkboxes_true-method -->

    
      <div id="method-i-convert_date" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">convert_date</span><span
            class="method-args">(date_obj)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=* <a
href="Plot.html#method-i-convert_date">#convert_date</a> 
*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*#</p>

<pre class="ruby"><span class="ruby-constant">Purpose</span><span class="ruby-operator">:</span>                                                                              <span class="ruby-comment">#</span>
    <span class="ruby-constant">Converts</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">dates</span> <span class="ruby-identifier">selected</span> <span class="ruby-identifier">using</span> <span class="ruby-identifier">a</span> <span class="ruby-constant">RoR</span> <span class="ruby-identifier">date</span> <span class="ruby-identifier">selector</span> <span class="ruby-identifier">drop</span> <span class="ruby-identifier">down</span> <span class="ruby-identifier">into</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">date</span>       <span class="ruby-comment">#</span>
    <span class="ruby-identifier">format</span> <span class="ruby-identifier">that</span> <span class="ruby-identifier">can</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">used</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">query</span> <span class="ruby-identifier">a</span> <span class="ruby-constant">Database</span>.                                      <span class="ruby-comment">#</span>
    <span class="ruby-constant">This</span> <span class="ruby-identifier">can</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">easily</span> <span class="ruby-identifier">modified</span><span class="ruby-operator">/</span><span class="ruby-identifier">duplicated</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">work</span> <span class="ruby-keyword">for</span> <span class="ruby-constant">DATETIME</span> <span class="ruby-identifier">type</span> <span class="ruby-identifier">objects</span>. <span class="ruby-constant">The</span>     <span class="ruby-comment">#</span>
     <span class="ruby-identifier">general</span> <span class="ruby-identifier">form</span> <span class="ruby-identifier">is</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">same</span>, <span class="ruby-identifier">just</span> <span class="ruby-identifier">add</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">few</span> <span class="ruby-identifier">more</span> <span class="ruby-identifier">components</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">logic</span> <span class="ruby-identifier">below</span>      <span class="ruby-comment">#</span>
<span class="ruby-constant">Inputs</span><span class="ruby-operator">:</span>                                                                               <span class="ruby-comment">#</span>
    <span class="ruby-identifier">date_obj</span><span class="ruby-operator">:</span> <span class="ruby-constant">A</span> <span class="ruby-identifier">date</span> <span class="ruby-identifier">hash</span>, <span class="ruby-identifier">populated</span> <span class="ruby-identifier">from</span> <span class="ruby-identifier">drop</span><span class="ruby-operator">-</span><span class="ruby-identifier">down</span> <span class="ruby-identifier">menus</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">view</span>, <span class="ruby-identifier">which</span> <span class="ruby-identifier">contains</span> <span class="ruby-identifier">a</span> <span class="ruby-comment">#</span>
         <span class="ruby-constant">Year</span>, <span class="ruby-constant">Month</span>, <span class="ruby-keyword">and</span> <span class="ruby-constant">Day</span> <span class="ruby-identifier">element</span>. <span class="ruby-constant">These</span> <span class="ruby-identifier">elements</span> <span class="ruby-identifier">are</span> <span class="ruby-identifier">stored</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">the</span>               <span class="ruby-comment">#</span>
         [<span class="ruby-string">'(1i)'</span>,<span class="ruby-string">'(2i)'</span>,<span class="ruby-string">'(3i)'</span>] <span class="ruby-identifier">keys</span>. <span class="ruby-constant">Expects</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">results</span> <span class="ruby-identifier">from</span> <span class="ruby-identifier">a</span> <span class="ruby-constant">RoR</span>                  <span class="ruby-comment">#</span>
         <span class="ruby-string">&quot;date_select&quot;</span> <span class="ruby-identifier">helper</span>                                                         <span class="ruby-comment">#</span>
<span class="ruby-constant">Outputs</span><span class="ruby-operator">:</span>                                                                              <span class="ruby-comment">#</span>
    <span class="ruby-constant">RoR</span> <span class="ruby-constant">Date</span> <span class="ruby-identifier">object</span> <span class="ruby-identifier">which</span> <span class="ruby-identifier">can</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">used</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">query</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">database</span>.                          <span class="ruby-comment">#</span>
<span class="ruby-constant">Calling</span><span class="ruby-operator">:</span>                                                                              <span class="ruby-comment">#</span>
        <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-ivar">@plot</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">convert_date</span>(<span class="ruby-identifier">date_hash</span>)                                        <span class="ruby-comment">#</span>
<span class="ruby-constant">Example</span><span class="ruby-operator">:</span>                                                                              <span class="ruby-comment">#</span>
    <span class="ruby-constant">From</span> <span class="ruby-identifier">the</span> <span class="ruby-string">&quot;date_select&quot;</span> <span class="ruby-identifier">helper</span>, <span class="ruby-identifier">a</span> <span class="ruby-identifier">date</span> <span class="ruby-identifier">hash</span> <span class="ruby-identifier">will</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">populated</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">look</span> <span class="ruby-identifier">like</span><span class="ruby-operator">:</span>        <span class="ruby-comment">#</span>
        <span class="ruby-operator">&gt;&gt;</span><span class="ruby-identifier">params</span>[:<span class="ruby-identifier">my_date</span>]={<span class="ruby-string">'(1i)'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value">2012</span>,<span class="ruby-string">'(2i)'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">6</span>, <span class="ruby-string">'(3i)'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">24</span>}                   <span class="ruby-comment">#</span>
    <span class="ruby-constant">To</span> <span class="ruby-identifier">convert</span> <span class="ruby-identifier">this</span> <span class="ruby-identifier">hash</span> <span class="ruby-identifier">into</span> <span class="ruby-identifier">a</span> <span class="ruby-constant">Ruby</span> <span class="ruby-string">&quot;Date&quot;</span> <span class="ruby-keyword">class</span>, <span class="ruby-identifier">just</span> <span class="ruby-identifier">pass</span> <span class="ruby-identifier">it</span> <span class="ruby-identifier">through</span> <span class="ruby-identifier">this</span> <span class="ruby-identifier">function</span>.<span class="ruby-comment">#</span>
        <span class="ruby-operator">&gt;&gt;</span><span class="ruby-constant">R_date</span> = <span class="ruby-ivar">@plot</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">convert_date</span>(<span class="ruby-identifier">params</span>[:<span class="ruby-identifier">my_date</span>])                         <span class="ruby-comment">#</span>
<span class="ruby-constant">Note</span><span class="ruby-operator">:</span>                                                                                 <span class="ruby-comment">#</span>
    <span class="ruby-constant">For</span> <span class="ruby-identifier">some</span> <span class="ruby-identifier">reason</span>, <span class="ruby-identifier">this</span> <span class="ruby-identifier">appears</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">an</span> <span class="ruby-identifier">erroneous</span> <span class="ruby-identifier">statement</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">some</span> <span class="ruby-identifier">editors</span>. <span class="ruby-constant">But</span>   <span class="ruby-comment">#</span>
    <span class="ruby-identifier">it</span> <span class="ruby-identifier">still</span> <span class="ruby-identifier">works</span>, <span class="ruby-identifier">so</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">validity</span> <span class="ruby-identifier">of</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">error</span> <span class="ruby-identifier">statement</span> <span class="ruby-identifier">is</span> <span class="ruby-identifier">questionable</span>.           <span class="ruby-comment">#                                                                            #</span>
</pre>

<p>&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;#</p>
          

          
          <div class="method-source-code" id="convert_date-source">
            <pre><span class="ruby-comment"># File app/models/plot.rb, line 720</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">convert_date</span>(<span class="ruby-identifier">date_obj</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">date_obj</span>[<span class="ruby-string">'(1i)'</span>].<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">date_obj</span>[<span class="ruby-string">'(2i)'</span>].<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">date_obj</span>[<span class="ruby-string">'(3i)'</span>].<span class="ruby-identifier">to_i</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- convert_date-source -->
          
        </div>

        

        
      </div><!-- convert_date-method -->

    
      <div id="method-i-date_invalid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">date_invalid</span><span
            class="method-args">(date_obj)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=* <a
href="Plot.html#method-i-date_invalid">#date_invalid</a> 
*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*#</p>

<pre class="ruby"><span class="ruby-constant">Purpose</span><span class="ruby-operator">:</span>                                                                              <span class="ruby-comment">#</span>
    <span class="ruby-constant">Performs</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">check</span> <span class="ruby-identifier">on</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">date</span> <span class="ruby-identifier">object</span>, <span class="ruby-identifier">to</span> <span class="ruby-identifier">see</span> <span class="ruby-identifier">whether</span> <span class="ruby-keyword">or</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">any</span> <span class="ruby-identifier">component</span> <span class="ruby-identifier">of</span> <span class="ruby-identifier">it</span> <span class="ruby-identifier">is</span>   <span class="ruby-comment">#</span>
    <span class="ruby-identifier">blank</span>.                                                                            <span class="ruby-comment">#</span>
    <span class="ruby-constant">This</span> <span class="ruby-identifier">can</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">easily</span> <span class="ruby-identifier">modified</span><span class="ruby-operator">/</span><span class="ruby-identifier">duplicated</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">work</span> <span class="ruby-keyword">for</span> <span class="ruby-constant">DATETIME</span> <span class="ruby-identifier">type</span> <span class="ruby-identifier">objects</span>. <span class="ruby-constant">The</span>     <span class="ruby-comment">#</span>
     <span class="ruby-identifier">general</span> <span class="ruby-identifier">form</span> <span class="ruby-identifier">is</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">same</span>, <span class="ruby-identifier">just</span> <span class="ruby-identifier">add</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">few</span> <span class="ruby-identifier">more</span> <span class="ruby-identifier">components</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">logic</span> <span class="ruby-identifier">below</span>      <span class="ruby-comment">#</span>
<span class="ruby-constant">Inputs</span><span class="ruby-operator">:</span>                                                                               <span class="ruby-comment">#</span>
    <span class="ruby-identifier">date_obj</span><span class="ruby-operator">:</span> <span class="ruby-constant">A</span> <span class="ruby-identifier">date</span> <span class="ruby-identifier">hash</span>, <span class="ruby-identifier">populated</span> <span class="ruby-identifier">from</span> <span class="ruby-identifier">drop</span><span class="ruby-operator">-</span><span class="ruby-identifier">down</span> <span class="ruby-identifier">menus</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">view</span>, <span class="ruby-identifier">which</span> <span class="ruby-identifier">contains</span> <span class="ruby-identifier">a</span> <span class="ruby-comment">#</span>
         <span class="ruby-constant">Year</span>, <span class="ruby-constant">Month</span>, <span class="ruby-keyword">and</span> <span class="ruby-constant">Day</span> <span class="ruby-identifier">element</span>. <span class="ruby-constant">These</span> <span class="ruby-identifier">elements</span> <span class="ruby-identifier">are</span> <span class="ruby-identifier">stored</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">the</span>               <span class="ruby-comment">#</span>
         [<span class="ruby-string">'(1i)'</span>,<span class="ruby-string">'(2i)'</span>,<span class="ruby-string">'(3i)'</span>] <span class="ruby-identifier">keys</span>. <span class="ruby-constant">Expects</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">results</span> <span class="ruby-identifier">from</span> <span class="ruby-identifier">a</span> <span class="ruby-constant">RoR</span>                  <span class="ruby-comment">#</span>
         <span class="ruby-string">&quot;date_select&quot;</span> <span class="ruby-identifier">helper</span>                                                         <span class="ruby-comment">#</span>
<span class="ruby-constant">Outputs</span><span class="ruby-operator">:</span>                                                                              <span class="ruby-comment">#</span>
    <span class="ruby-constant">Boolean</span> <span class="ruby-constant">True</span><span class="ruby-operator">/</span><span class="ruby-constant">False</span> <span class="ruby-identifier">indicator</span>. <span class="ruby-constant">Returns</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">date</span> <span class="ruby-identifier">is</span> <span class="ruby-identifier">invalid</span>                 <span class="ruby-comment">#</span>
<span class="ruby-constant">Calling</span><span class="ruby-operator">:</span>                                                                              <span class="ruby-comment">#</span>
        <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-ivar">@plot</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">date_invalid</span>(<span class="ruby-identifier">date_hash</span>)                                        <span class="ruby-comment">#</span>
<span class="ruby-constant">Example</span><span class="ruby-operator">:</span>                                                                              <span class="ruby-comment">#</span>
    <span class="ruby-constant">From</span> <span class="ruby-identifier">the</span> <span class="ruby-string">&quot;date_select&quot;</span> <span class="ruby-identifier">helper</span>, <span class="ruby-identifier">a</span> <span class="ruby-identifier">date</span> <span class="ruby-identifier">hash</span> <span class="ruby-identifier">will</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">populated</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">look</span> <span class="ruby-identifier">like</span><span class="ruby-operator">:</span>        <span class="ruby-comment">#</span>
        <span class="ruby-operator">&gt;&gt;</span><span class="ruby-identifier">params</span>[:<span class="ruby-identifier">my_date</span>]={<span class="ruby-string">'(1i)'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value">2012</span>,<span class="ruby-string">'(2i)'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">6</span>, <span class="ruby-string">'(3i)'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">24</span>}                   <span class="ruby-comment">#</span>
    <span class="ruby-constant">To</span> <span class="ruby-identifier">see</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">this</span> <span class="ruby-identifier">is</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">valid</span> <span class="ruby-identifier">date</span> <span class="ruby-identifier">selection</span>, <span class="ruby-identifier">run</span><span class="ruby-operator">:</span>                                    <span class="ruby-comment">#</span>
        <span class="ruby-operator">&gt;&gt;</span><span class="ruby-identifier">bad_date</span> = <span class="ruby-ivar">@plot</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">date_invalid</span>(<span class="ruby-identifier">params</span>[:<span class="ruby-identifier">my_date</span>])                       <span class="ruby-comment">#</span>
                                                                                      <span class="ruby-comment">#</span>
</pre>

<p>&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;#</p>
          

          
          <div class="method-source-code" id="date_invalid-source">
            <pre><span class="ruby-comment"># File app/models/plot.rb, line 749</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">date_invalid</span>(<span class="ruby-identifier">date_obj</span>)
  <span class="ruby-keyword">return</span> ([<span class="ruby-identifier">date_obj</span>[<span class="ruby-string">&quot;(1i)&quot;</span>].<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">blank?</span>, <span class="ruby-identifier">date_obj</span>[<span class="ruby-string">&quot;(2i)&quot;</span>].<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">blank?</span>, <span class="ruby-identifier">date_obj</span>[<span class="ruby-string">&quot;(3i)&quot;</span>].<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">blank?</span>]).<span class="ruby-identifier">include?</span>(<span class="ruby-keyword">true</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- date_invalid-source -->
          
        </div>

        

        
      </div><!-- date_invalid-method -->

    
      <div id="method-i-default_selections" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">default_selections</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>*=*=*=*=*=*=*=*=*=*=*=*=*=* <a
href="Plot.html#method-i-default_selections">#default_selections</a>
=*=*=*=*=*=*=*=*=*=*=*=*=*=*#</p>

<pre>Purpose:                                                                  #
    Indicates if columns are to be filtered in db selection. The          #
    @@find_filter variable is set above, under the &quot;Database Table &quot;      #
    &quot;Specifications&quot; section                                              #
Inputs:                                                                   #
    None                                                                  #
Outputs:                                                                  #
    @@find_filter: boolean, true or false                                 #
Calling:                                                                  #
         &gt;&gt; TorF = Plot.filter_table                                      #
Example:                                                                  #
   In the &quot;plots_controller .. index&quot; section, this is used to aid  the   #
      filling of the &quot;@filters&quot; variable :                                #
         &gt;&gt; @filters = &quot;No Filter&quot; + {stuff} if Plot.filter_table         #
   So if the table requires no column filtering, the @filters variable    #
      will only contain:                                                  #
         @filters --&gt; [&quot;No Filter&quot;]                                       #
   which is used in &quot;plots/views/index.html&quot; to build filter selectors    #
                                                                          #</pre>

<p>&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;#</p>
          

          
          <div class="method-source-code" id="default_selections-source">
            <pre><span class="ruby-comment"># File app/models/plot.rb, line 180</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">default_selections</span>()
  <span class="ruby-comment"># figure out how to default to &quot; &quot;</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span> <span class="ruby-identifier">@@default_x</span>       <span class="ruby-keyword">then</span> <span class="ruby-identifier">@@default_x</span>       = [<span class="ruby-string">&quot;&quot;</span>]  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span> <span class="ruby-identifier">@@default_y</span>       <span class="ruby-keyword">then</span> <span class="ruby-identifier">@@default_y</span>       = [<span class="ruby-string">&quot;&quot;</span>]  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span> <span class="ruby-identifier">@@default_filter</span>  <span class="ruby-keyword">then</span> <span class="ruby-identifier">@@default_filter</span>  = [<span class="ruby-string">&quot;&quot;</span>]  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span> <span class="ruby-identifier">@@default_feature</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">@@default_feature</span> = [<span class="ruby-string">&quot;&quot;</span>]  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">@@default_x</span>,<span class="ruby-identifier">@@default_y</span>,<span class="ruby-identifier">@@default_filter</span>,<span class="ruby-identifier">@@default_feature</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- default_selections-source -->
          
        </div>

        

        
      </div><!-- default_selections-method -->

    
      <div id="method-i-dygraph_body" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">dygraph_body</span><span
            class="method-args">(tags, values)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=* <a
href="Plot.html#method-i-dygraph_body">#dygraph_body</a> 
*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*#</p>

<pre>Purpose:                                                                              #
    Similar to &quot;Plot.dygraph_head&quot;, this generates the body, or numeric portion of    #
      Dygraph function input in an html page. Basically, parses the @plot object      #
      into numeric strings formatted for dygraphs functions.                          #
       See the plot templates in &quot;views/layouts/plot_*&quot;                               #
Inputs:                                                                               #
    tags: Array of strings. Each tag is the name of a @plot attribute to be plotted   #
    values: @plot instance variable, whose attributes are the variables to be plotted #
            by Dygraphs.                                                              #
Outputs:                                                                              #
    body_string: Dygraph string. The 'meat and potatoes' of the Dygraph plotting      #
                 input. This string contains a list of all values to be plotted       #                                                                     #
Calling:                                                                              #
        &gt;&gt; @plot.first.dygraph_body(@Tag_Values,@Plot_Values)                         #
    Returns the @Plot_Values with @Tag_Values attributes to html calling page,        #
    formatted for dygraph input                                                       #
Example:                                                                              #
    In a new dygraph element in HTML page:                                            #
         &gt;&gt; g=new Dygraph(...                                                         #
                &lt;%= putc(@plot.first.dygraph_head(@tags)) %&gt;                          #
                &lt;%= putc(@plot.first.dygraph_body(@tags,@plot)) %&gt;                    #
    This turns something like:                                                        #
        &gt;&gt; @tags = [&quot;date&quot;,&quot;y1&quot;,&quot;y2&quot;]                                                 #
        &gt;&gt; @plot --&gt; Plot date:'2012-01-01', y1:1, y2:35 ...                          #
    to dygraphs expected format:                                                      #
        &gt;&gt; {above} ==&gt; &quot;'date,y1,y2\n' + '2012-01-01,1,35\n' + &quot; ...                  #
    in conjunction, &quot;Plot.dygraph_head&quot; and &quot;Plot.dygraph_body&quot; parse the             #
    ActiveRecord @plot object into what Dygraphs functions expect                     #
                                                                                      #</pre>

<p>&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;#</p>
          

          
          <div class="method-source-code" id="dygraph_body-source">
            <pre><span class="ruby-comment"># File app/models/plot.rb, line 399</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dygraph_body</span>(<span class="ruby-identifier">tags</span>, <span class="ruby-identifier">values</span>)
  <span class="ruby-identifier">body_string</span> = <span class="ruby-string">''</span>
  <span class="ruby-identifier">values</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
    ; <span class="ruby-comment"># for each row in the @plot selection</span>
    <span class="ruby-identifier">body_string</span> <span class="ruby-operator">+=</span> <span class="ruby-string">&quot;'&quot;</span>
    <span class="ruby-keyword">for</span> <span class="ruby-identifier">ii</span> <span class="ruby-keyword">in</span> <span class="ruby-value">0</span><span class="ruby-operator">..</span>(<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>) <span class="ruby-comment"># for each tag (column) in that row</span>
      <span class="ruby-identifier">body_string</span> <span class="ruby-operator">+=</span> (<span class="ruby-identifier">value</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">tags</span>[<span class="ruby-identifier">ii</span>].<span class="ruby-identifier">to_s</span>)).<span class="ruby-identifier">to_s</span>
      <span class="ruby-identifier">body_string</span> <span class="ruby-operator">+=</span> <span class="ruby-string">','</span> <span class="ruby-keyword">unless</span> (<span class="ruby-identifier">ii</span><span class="ruby-operator">==</span>(<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>))
    <span class="ruby-keyword">end</span> <span class="ruby-comment"># End format is &lt;   'x_value,y_value,y2_value,y3_value\n' +  &gt;</span>
    <span class="ruby-identifier">body_string</span> <span class="ruby-operator">+=</span> <span class="ruby-string">'\n'</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;'&quot;</span>
    <span class="ruby-identifier">body_string</span> <span class="ruby-operator">+=</span> <span class="ruby-string">&quot;   +&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">value</span><span class="ruby-operator">==</span><span class="ruby-identifier">values</span>.<span class="ruby-identifier">last</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">body_string</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- dygraph_body-source -->
          
        </div>

        

        
      </div><!-- dygraph_body-method -->

    
      <div id="method-i-dygraph_head" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">dygraph_head</span><span
            class="method-args">(tags)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=* <a
href="Plot.html#method-i-dygraph_head">#dygraph_head</a> 
*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*#</p>

<pre>Purpose:                                                                              #
    Generate the header (first line) of the argument input to dygraphs function in    #
      an html page. This line holds the names of datasets being plotted. See the      #
      plot templates in &quot;views/layouts/plot_*&quot;                                        #
Inputs:                                                                               #
    tags: An array of string values, corresponding to the [x,y1,y2,y3...] variable     #
         names as will displayed in the dygraphs legend.                              #
Outputs:                                                                              #
    labelstring: Dygraph string. Used in first line of Dygraphs plot generation       #
                 containing plot variable names                                       #
Calling:                                                                              #
        &gt;&gt; @plot.first.dygraph_head(@Tag_Values)                                      #
    Returns the @Tag_Values to html calling page, formatted for dygraph input         #
Example:                                                                              #
    In a new dygraph element in HTML page:                                            #
         &gt;&gt; g=new Dygraph(...                                                         #
                &lt;%= putc(@plot.first.dygraph_head(@tags)) %&gt;                          #
    This turns something like:                                                        #
        &gt;&gt; @tags = [&quot;date&quot;,&quot;y1&quot;,&quot;y2&quot;]                                                 #
    to dygraphs expected format:                                                      #
        &gt;&gt; {above} ==&gt; &quot;'date,y1,y1\n'+ &quot;                                             #
                                                                                      #</pre>

<p>&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;#</p>
          

          
          <div class="method-source-code" id="dygraph_head-source">
            <pre><span class="ruby-comment"># File app/models/plot.rb, line 357</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dygraph_head</span>(<span class="ruby-identifier">tags</span>)
  <span class="ruby-identifier">labelstring</span> = <span class="ruby-string">&quot;,'&quot;</span>
  <span class="ruby-keyword">for</span> <span class="ruby-identifier">ii</span> <span class="ruby-keyword">in</span> <span class="ruby-value">0</span><span class="ruby-operator">..</span>(<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>)
    <span class="ruby-identifier">labelstring</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">tags</span>[<span class="ruby-identifier">ii</span>].<span class="ruby-identifier">to_s</span>
    <span class="ruby-identifier">labelstring</span> <span class="ruby-operator">+=</span> <span class="ruby-string">','</span> <span class="ruby-keyword">unless</span> (<span class="ruby-identifier">ii</span><span class="ruby-operator">==</span>(<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>))
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">labelstring</span> <span class="ruby-operator">+=</span> <span class="ruby-string">'\n'</span> <span class="ruby-operator">+</span><span class="ruby-string">&quot;'+&quot;</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">labelstring</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- dygraph_head-source -->
          
        </div>

        

        
      </div><!-- dygraph_head-method -->

    
      <div id="method-i-dygraph_options" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">dygraph_options</span><span
            class="method-args">(graphnum="",lin_reg="false")</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=* <a
href="Plot.html#method-i-dygraph_options">#dygraph_options</a> 
*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=#</p>

<pre>Purpose:                                                                              #
    This function simply returns the Dygraphs options to the calling HTML page.       #
      Most of this is static, and doesn't need to be in a function, but it reduces    #
      clutter in HTML pages and makes graph stylizing and modification easier.        #
    In addition, placing this function here lets the options be customized for EACH   #
      plot window. You may want to specify different colors, options, ect for         #
      different &quot;graphnum&quot; inputs. As is, the &quot;graphnum&quot; input simply allows each     #
      window of plot data to behave independently of one another. The &quot;graphnum&quot;      #
      variable should mirror the &quot;graphdivX&quot; labeling used in the view for            #
      Dygraphs instantiation.                                                         #
Inputs:                                                                               #
    graphnum (optional): Integer Input The plot window that the returned options      #
                         correspond to.                                               #
                         &quot;graphnum&quot; should mirror the  Dygraphs instantiation         #
                        of &quot;graphdivX&quot; inside the view. See the plot_template.html    #
                        page for more information.                                    #
    lin_reg (optional): Indicator whether or not the user has asked for linear        #
                        regression functionality to be added to the plot. If not set, #
                        the Dygraphs function, &quot;underlayCallback&quot;, interferes with    #
                        plotting. Can't be included since the rest of the             #
                        functionality isn't included                                  #
Outputs:                                                                              #
    options_string: String. Dygraphs string that is an input to the Dygraphs plotting #
                            function. Specifies the options for that plot.            #
Calling:                                                                              #
        &gt;&gt; @plot.first.dygraph_options(OptionalNumber)                                #
    Returns string to html page that specifies options for Dygraph plot window        #
Example:                                                                              #
    In a new dygraph element in HTML page:                                            #
        &gt;&gt; g=new Dygraph(...                                                          #
        &gt;&gt;     &lt;%= putc(@plot.first.dygraph_head(@tags)) %&gt;                           #
        &gt;&gt;     &lt;%= putc(@plot.first.dygraph_body(@tags,@plot)) %&gt;                     #
        &gt;&gt;     &lt;%= render :inline =&gt; @plot.first.dygraph_options(graphnum)  %&gt;        #
    This concludes inputs to Dygraph function. 1:header, 2: body:, 3:options. The     #
      options have been formatted to apply to just a single graph window.             #
                                                                                      #</pre>

<p>&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;#</p>
          

          
          <div class="method-source-code" id="dygraph_options-source">
            <pre><span class="ruby-comment"># File app/models/plot.rb, line 453</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dygraph_options</span>(<span class="ruby-identifier">graphnum</span>=<span class="ruby-string">&quot;&quot;</span>,<span class="ruby-identifier">lin_reg</span>=<span class="ruby-string">&quot;false&quot;</span>)
    <span class="ruby-identifier">options_string</span> =
   <span class="ruby-string">&quot;,{
        height: 375,                                                               // Specifies the Height of the plot area
        width: 700,                                                                // Specifies the Width of the plot area
        hideOverlayOnMouseOut: false,                                              // Keeps the legend visible at all times
        showRoller: true,                                                          // Show a rolling Average box
        rollPeriod: 1,                                                             // Set default average for rolling average (0 means no average...)
        labelsDivWidth: 100,                                                       // Set the
        labelsDiv: document.getElementById('Legend_Div&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;'),     // Specifies External Div to put Legend Labels in
        labelsSeparateLines: true,                                                 // Different lines per label for easier readability
        &quot;</span>

       <span class="ruby-identifier">options_string</span> <span class="ruby-operator">+=</span> <span class="ruby-string">&quot;underlayCallback: drawLines&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;,        // MUST enable this  to show linear regression
         &quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-operator">!</span><span class="ruby-identifier">lin_reg</span>


        <span class="ruby-identifier">options_string</span> <span class="ruby-operator">+=</span> <span class="ruby-string">&quot;xlabel: '&lt;%=params[:x_var]%&gt;',                          // Label for the X axis
        ylabel: '&lt;%=render :inline =&gt; params[:y_var].to_s %&gt;',                     // Labels for the Y axis
        visibility: &lt;%= render :inline =&gt; @plot.first.all_checkboxes_true(params[:y_var]) %&gt;   // Initial visibility of plot lines
      } &quot;</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">options_string</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- dygraph_options-source -->
          
        </div>

        

        
      </div><!-- dygraph_options-method -->

    
      <div id="method-i-filter_table" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">filter_table</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>*=*=*=*=*=*=*=*=*=*=*=*=*=*=* <a
href="Plot.html#method-i-filter_table">#filter_table</a>
=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*#</p>

<pre>Purpose:                                                                  #
    Indicates if columns are to be filtered in db selection. The          #
    @@find_filter variable is set above, under the &quot;Database Table &quot;      #
    &quot;Specifications&quot; section                                              #
Inputs:                                                                   #
    None                                                                  #
Outputs:                                                                  #
    @@find_filter: boolean, true or false                                 #
Calling:                                                                  #
         &gt;&gt; TorF = Plot.filter_table                                      #
Example:                                                                  #
   In the &quot;plots_controller .. index&quot; section, this is used to aid  the   #
      filling of the &quot;@filters&quot; variable :                                #
         &gt;&gt; @filters = &quot;No Filter&quot; + {stuff} if Plot.filter_table         #
   So if the table requires no column filtering, the @filters variable    #
      will only contain:                                                  #
         @filters --&gt; [&quot;No Filter&quot;]                                       #
   which is used in &quot;plots/views/index.html&quot; to build filter selectors    #
                                                                          #</pre>

<p>&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;#</p>
          

          
          <div class="method-source-code" id="filter_table-source">
            <pre><span class="ruby-comment"># File app/models/plot.rb, line 211</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">filter_table</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span> <span class="ruby-identifier">@@find_filter</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">@@find_filter</span> = <span class="ruby-keyword">false</span> <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span>  <span class="ruby-identifier">@@find_filter</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- filter_table-source -->
          
        </div>

        

        
      </div><!-- filter_table-method -->

    
      <div id="method-i-linear_reg" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">linear_reg</span><span
            class="method-args">(graphnum = "")</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*= <a
href="Plot.html#method-i-linear_reg">#linear_reg</a> 
*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=#</p>

<pre class="ruby"><span class="ruby-constant">Purpose</span><span class="ruby-operator">:</span>                                                                              <span class="ruby-comment">#</span>
    <span class="ruby-constant">This</span> <span class="ruby-identifier">function</span> <span class="ruby-identifier">returns</span> <span class="ruby-identifier">javascript</span> <span class="ruby-identifier">functions</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">utilities</span> <span class="ruby-identifier">that</span> <span class="ruby-identifier">enable</span> <span class="ruby-identifier">the</span>          <span class="ruby-comment">#</span>
    <span class="ruby-identifier">calculation</span>, <span class="ruby-identifier">displaying</span>, <span class="ruby-keyword">and</span> <span class="ruby-identifier">drawing</span> <span class="ruby-identifier">of</span> <span class="ruby-identifier">linear</span> <span class="ruby-identifier">regression</span> <span class="ruby-identifier">fits</span> <span class="ruby-keyword">for</span> <span class="ruby-identifier">plotted</span>        <span class="ruby-comment">#</span>
    <span class="ruby-identifier">data</span> <span class="ruby-identifier">sets</span>. <span class="ruby-constant">While</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">spectacularly</span> <span class="ruby-identifier">useful</span>, <span class="ruby-identifier">this</span> <span class="ruby-identifier">functionality</span> <span class="ruby-identifier">shows</span> <span class="ruby-identifier">how</span> <span class="ruby-identifier">easily</span>    <span class="ruby-comment">#</span>
    <span class="ruby-identifier">dynamic</span> <span class="ruby-identifier">interaction</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">data</span> <span class="ruby-identifier">manipulation</span> <span class="ruby-identifier">of</span> <span class="ruby-identifier">graph</span> <span class="ruby-identifier">data</span> <span class="ruby-identifier">can</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">implemented</span>.       <span class="ruby-comment">#</span>
    <span class="ruby-constant">Each</span> <span class="ruby-identifier">time</span> <span class="ruby-identifier">it</span> <span class="ruby-identifier">is</span> <span class="ruby-identifier">called</span>, <span class="ruby-identifier">this</span> <span class="ruby-identifier">function</span> <span class="ruby-identifier">creates</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">whole</span> <span class="ruby-identifier">new</span> <span class="ruby-identifier">set</span> <span class="ruby-identifier">of</span> <span class="ruby-identifier">javascript</span>       <span class="ruby-comment">#</span>
    <span class="ruby-identifier">functions</span>, <span class="ruby-identifier">tailored</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">an</span> <span class="ruby-identifier">individual</span> <span class="ruby-identifier">graph</span> <span class="ruby-identifier">window</span>.                                <span class="ruby-comment">#</span>
    <span class="ruby-constant">Again</span>, <span class="ruby-identifier">all</span> <span class="ruby-identifier">these</span> <span class="ruby-identifier">functions</span> <span class="ruby-identifier">are</span> <span class="ruby-identifier">designed</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">tied</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">dynamically</span> <span class="ruby-identifier">named</span> <span class="ruby-identifier">graph</span>     <span class="ruby-comment">#</span>
    <span class="ruby-identifier">windows</span>, <span class="ruby-identifier">activation</span> <span class="ruby-identifier">buttons</span>, <span class="ruby-keyword">and</span> <span class="ruby-identifier">div</span><span class="ruby-string">'s in order to work. Proper cross referencing #
    simply depends on keeping the &quot;graphnum&quot; variable constant in calling.            #
Inputs:                                                                               #
    graphnum (optional)-Integer. The particular graph window that the regression      #
                        functions will be tied to                                     #
                        Again, &quot;graphnum&quot; should mirror the  Dygraphs instantiation   #
                        of &quot;graphdivX&quot; inside the view. See the plot_template.html    #
                        page for more information.                                    #
Outputs:                                                                              #
    linear_reg_str-String. Contains Javascript code and function definitions.         #
                   Together, they represent all utilities needed for regression       #
                   functionality.                                                     #
Calling:                                                                              #
    &gt;&gt;@plot.first.linear_reg(graph_number)                                            #
Example:                                                                              #
     In a view, to enable linear regression functionality for a particular graph      #
     window, just call this function with the corresponding window number             #
        &gt;&gt; regression_functions = @plot.first.linear_reg(0)                           #
     generates functions tied to the graph window 0 (graphdiv0) and the corresponding #
     HTML elements required for activation.                                           #
     As before, implementation requires live rendering of this string:                #
        &gt;&gt; render :inline =&gt; regression_functions                                     #
                                                                                      #
NOTE:                                                                                 #
     Much of this I took from an online open source. It has since been modified and   #
     I have added features and functions of my own, but at its core it is the same as #
     is offered from the Dygraphs website.                                            #
                                                                                      #
</span></pre>

<p>&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;#</p>
          

          
          <div class="method-source-code" id="linear_reg-source">
            <pre><span class="ruby-comment"># File app/models/plot.rb, line 571</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">linear_reg</span>(<span class="ruby-identifier">graphnum</span> = <span class="ruby-string">&quot;&quot;</span>)
  <span class="ruby-identifier">linear_reg_str</span> =<span class="ruby-string">'// coefficients of regression for each series.
  // if coeffs = [ null, [1, 2], null ] then we draw a regression for series 1
  // only. The regression line is y = 1 + 2 * x.
  var coeffs = [ null, null, null ];
  function regression'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'(series) {
    // Only run the regression over visible points.
    var range = g'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'.xAxisRange();

    var sum_xy = 0.0, sum_x = 0.0, sum_y = 0.0, sum_x2 = 0.0, num = 0;
    for (var i = 0; i &lt; g'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'.numRows(); i++) {
      var x = g'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'.getValue(i, 0);
      if (x &lt; range[0] || x &gt; range[1]) continue;

      var y = g'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'.getValue(i, series);
      if (y == null) continue;
      if (y.length == 2) {
        // using fractions
        y = y[0] / y[1];
      }

      num++;
      sum_x += x;
      sum_y += y;
      sum_xy += x * y;
      sum_x2 += x * x;
    }

    var a = (sum_xy - sum_x * sum_y / num) / (sum_x2 - sum_x * sum_x / num);
    var b = (sum_y - a * sum_x) / num;

    coeffs[series] = [b, a];
    if (typeof(console) != '</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;'&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-string">'undefined'</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;'&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-string">') {
      console.log(&quot;coeffs(&quot; + series + &quot;): [&quot; + b + &quot;, &quot; + a + &quot;]&quot;);
    }

    g'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'.updateOptions({});  // forces a redraw.

    // Every time the regressions are calculated, call the printing function
    //    that will output the coefficients of the given linear regression to
    //    the HTML page. This function is tied to existing &lt;div&gt; spaces in the
    //    HTML page.
    print_Coeffs'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'(series);

  }

  function clearLines'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'()
  {
    for (var i = 0; i &lt; coeffs.length; i++)
    {
      coeffs[i] = null;
    }
    g'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'.updateOptions({});
    clear_Coeffs'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'()

  }


  function drawLines'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'(ctx, area, layout) {
    if (typeof(g'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">') == '</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;'&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-string">'undefined'</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;'&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-string">') return;  // wont be set on the initial draw.

    var range = g'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'.xAxisRange();
    for (var i = 0; i &lt; coeffs.length; i++) {
      if (!coeffs[i]) continue;
      var a = coeffs[i][1];
      var b = coeffs[i][0];

      var x1 = range[0];
      var y1 = a * x1 + b;
      var x2 = range[1];
      var y2 = a * x2 + b;

      var p1 = g'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'.toDomCoords(x1, y1);
      var p2 = g'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'.toDomCoords(x2, y2);

      var c = new RGBColor(g'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'.getColors()[i - 1]);
      c.r = Math.floor(255 - 0.5 * (255 - c.r));
      c.g = Math.floor(255 - 0.5 * (255 - c.g));
      c.b = Math.floor(255 - 0.5 * (255 - c.b));
      var color = c.toHex();
      ctx.save();
      ctx.strokeStyle = color;
      ctx.lineWidth = 1.0;
      ctx.beginPath();
      ctx.moveTo(p1[0], p1[1]);
      ctx.lineTo(p2[0], p2[1]);
      ctx.closePath();
      ctx.stroke();
      ctx.restore();
    }
  }


  // Here is my function to format and return Linear Regression Coefficients
  //    It places a formatted string of coefficients in the appropriately named
  //    &lt;div&gt;. Dynamic naming of each line series space as &lt;div_0&gt; , &lt;div_1&gt;
  //    etc is required for this to work. That way, each time a regression is
  //    calculated for a series (0,1,2...), the matching coefficient calculation
  //    will be put in the like-named divs. A similar function is also below to
  //    clear the appropriate coefficient strings when the linear regressions
  //    themselves are cleared.

  // IMPORTANT!!! TO PRINT COEFFICIENTS, THIS FUNCTION MULTIPLY BY -1,
  // THAT IS DUE TO THE PARTICULAR DATABASE ORDER BEING USED WHERE &quot;NEWER&quot;
  // SETS HAVE LOWER IDs. THIS IS COMPLETELY DATABASE DEPENDANT.

 function print_Coeffs'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'(ii)
    {
      var reg = coeffs[ii];
      var reg_str = &quot;Coefficients are : &lt;br&gt;&quot;
      reg_str += &quot;y =  [&quot; + -1*Math.round(reg[0]*1000)/1000 + &quot;] x  + [&quot; + -1*Math.round(reg[1]*1000)/1000 + &quot;] &lt;/br&gt;&quot;
      document.getElementById(&quot;Div_'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'&quot; + ii).innerHTML = reg_str;
    }

  function clear_Coeffs'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'(ii)
    {
      for (var i = 1; i &lt; coeffs.length; i++) document.getElementById(&quot;Div_'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'&quot; + i).innerHTML = &quot;Coefficients are:&quot;;
    }

'</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">linear_reg_str</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- linear_reg-source -->
          
        </div>

        

        
      </div><!-- linear_reg-method -->

    
      <div id="method-i-linear_reg_buttons" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">linear_reg_buttons</span><span
            class="method-args">(list,graphnum="")</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*= <a
href="Plot.html#method-i-linear_reg_buttons">#linear_reg_buttons</a> 
*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=#</p>

<pre class="ruby"><span class="ruby-constant">Purpose</span><span class="ruby-operator">:</span>                                                                              <span class="ruby-comment">#</span>
    <span class="ruby-constant">This</span> <span class="ruby-identifier">function</span> <span class="ruby-identifier">returns</span> <span class="ruby-constant">HTML</span> <span class="ruby-identifier">formatted</span> <span class="ruby-identifier">strings</span> <span class="ruby-identifier">that</span>, <span class="ruby-keyword">when</span> <span class="ruby-identifier">rendered</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">view</span>, <span class="ruby-identifier">will</span>  <span class="ruby-comment">#</span>
      <span class="ruby-value">1</span>. <span class="ruby-identifier">create</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">button</span> <span class="ruby-identifier">linked</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">each</span> <span class="ruby-identifier">line</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">corresponding</span> <span class="ruby-identifier">plot</span> <span class="ruby-identifier">window</span>.        <span class="ruby-comment">#</span>
      <span class="ruby-value">2</span>. <span class="ruby-identifier">create</span> <span class="ruby-identifier">a</span> <span class="ruby-constant">DIV</span> <span class="ruby-identifier">linked</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">each</span> <span class="ruby-identifier">line</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">corresponding</span> <span class="ruby-identifier">plot</span> <span class="ruby-identifier">window</span>            <span class="ruby-comment">#</span>
    <span class="ruby-constant">Clicking</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">button</span> <span class="ruby-identifier">will</span> <span class="ruby-identifier">generate</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">plot</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">linear</span> <span class="ruby-identifier">regression</span> <span class="ruby-keyword">for</span> <span class="ruby-identifier">its</span>            <span class="ruby-comment">#</span>
      <span class="ruby-identifier">associated</span> <span class="ruby-identifier">dataset</span>, <span class="ruby-keyword">and</span> <span class="ruby-identifier">print</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">coefficients</span> <span class="ruby-identifier">of</span> <span class="ruby-identifier">that</span> <span class="ruby-identifier">regression</span> <span class="ruby-identifier">inside</span> <span class="ruby-identifier">the</span>    <span class="ruby-comment">#</span>
      <span class="ruby-identifier">newly</span> <span class="ruby-identifier">created</span> <span class="ruby-constant">DIV</span>. <span class="ruby-constant">Both</span> <span class="ruby-identifier">are</span> <span class="ruby-identifier">rendered</span> <span class="ruby-identifier">live</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">call</span> <span class="ruby-identifier">other</span> <span class="ruby-constant">Javascript</span> <span class="ruby-identifier">functions</span>    <span class="ruby-comment">#</span>
      <span class="ruby-identifier">that</span> <span class="ruby-identifier">handle</span> <span class="ruby-identifier">these</span> <span class="ruby-identifier">two</span> <span class="ruby-identifier">actions</span>.                                                  <span class="ruby-comment">#</span>
    <span class="ruby-constant">Note</span> <span class="ruby-identifier">that</span> <span class="ruby-identifier">the</span> <span class="ruby-string">&quot;graphnum&quot;</span> <span class="ruby-identifier">variable</span> <span class="ruby-identifier">must</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">same</span> <span class="ruby-keyword">for</span> <span class="ruby-identifier">all</span> <span class="ruby-identifier">applicable</span> <span class="ruby-identifier">functions</span>.  <span class="ruby-comment">#</span>
    <span class="ruby-constant">HTML</span> <span class="ruby-identifier">elements</span>, <span class="ruby-constant">Javascript</span> <span class="ruby-identifier">operations</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">internal</span> <span class="ruby-identifier">calculations</span> <span class="ruby-identifier">depend</span> <span class="ruby-identifier">on</span> <span class="ruby-identifier">this</span>     <span class="ruby-comment">#</span>
    <span class="ruby-identifier">variable</span> <span class="ruby-identifier">being</span> <span class="ruby-identifier">constant</span> <span class="ruby-identifier">throughout</span>.                                               <span class="ruby-comment">#</span>
<span class="ruby-constant">Inputs</span><span class="ruby-operator">:</span>                                                                               <span class="ruby-comment">#</span>
    <span class="ruby-identifier">list</span><span class="ruby-operator">-</span><span class="ruby-constant">String</span>. <span class="ruby-constant">Array</span> <span class="ruby-identifier">of</span> <span class="ruby-identifier">variable</span> <span class="ruby-identifier">names</span> <span class="ruby-identifier">that</span> <span class="ruby-identifier">will</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">tied</span> <span class="ruby-identifier">to</span> <span class="ruby-constant">Linear</span> <span class="ruby-constant">Regression</span>       <span class="ruby-comment">#</span>
         <span class="ruby-identifier">generation</span> <span class="ruby-identifier">buttons</span>                                                           <span class="ruby-comment">#</span>
    <span class="ruby-identifier">graphnum</span> (<span class="ruby-identifier">optional</span>)<span class="ruby-operator">-</span><span class="ruby-constant">Integer</span>. <span class="ruby-constant">The</span> <span class="ruby-identifier">particular</span> <span class="ruby-identifier">graph</span> <span class="ruby-identifier">window</span> <span class="ruby-identifier">that</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">buttons</span> <span class="ruby-identifier">will</span> <span class="ruby-identifier">be</span> <span class="ruby-comment">#</span>
                        <span class="ruby-identifier">connected</span> <span class="ruby-identifier">to</span>                                                  <span class="ruby-comment">#</span>
                        <span class="ruby-constant">Again</span>, <span class="ruby-string">&quot;graphnum&quot;</span> <span class="ruby-identifier">should</span> <span class="ruby-identifier">mirror</span> <span class="ruby-identifier">the</span>  <span class="ruby-constant">Dygraphs</span> <span class="ruby-identifier">instantiation</span>   <span class="ruby-comment">#</span>
                        <span class="ruby-identifier">of</span> <span class="ruby-string">&quot;graphdivX&quot;</span> <span class="ruby-identifier">inside</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">view</span>. <span class="ruby-constant">See</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">plot_template</span>.<span class="ruby-identifier">html</span>    <span class="ruby-comment">#</span>
                        <span class="ruby-identifier">page</span> <span class="ruby-keyword">for</span> <span class="ruby-identifier">more</span> <span class="ruby-identifier">information</span>.                                    <span class="ruby-comment">#</span>
<span class="ruby-constant">Outputs</span><span class="ruby-operator">:</span>                                                                              <span class="ruby-comment">#</span>
    <span class="ruby-identifier">button_str</span><span class="ruby-operator">-</span> <span class="ruby-constant">String</span>. <span class="ruby-constant">HTML</span>  <span class="ruby-identifier">formatted</span> <span class="ruby-identifier">string</span> <span class="ruby-identifier">that</span>, <span class="ruby-keyword">when</span> <span class="ruby-identifier">rendered</span>, <span class="ruby-identifier">will</span> <span class="ruby-identifier">create</span>       <span class="ruby-comment">#</span>
                <span class="ruby-identifier">buttons</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">an</span> <span class="ruby-constant">HTML</span> <span class="ruby-identifier">page</span> <span class="ruby-identifier">that</span> <span class="ruby-identifier">activate</span> <span class="ruby-identifier">linear</span> <span class="ruby-identifier">regression</span> <span class="ruby-identifier">functionality</span> <span class="ruby-comment">#</span>
<span class="ruby-constant">Calling</span><span class="ruby-operator">:</span>                                                                              <span class="ruby-comment">#</span>
    <span class="ruby-operator">&gt;&gt;</span><span class="ruby-ivar">@plot</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">linear_reg_buttons</span>(<span class="ruby-identifier">my_list</span>,<span class="ruby-identifier">graph_number</span>)                            <span class="ruby-comment">#</span>
<span class="ruby-constant">Example</span><span class="ruby-operator">:</span>                                                                              <span class="ruby-comment">#</span>
     <span class="ruby-constant">Given</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">list</span> <span class="ruby-identifier">of</span> <span class="ruby-identifier">variables</span> <span class="ruby-identifier">being</span> <span class="ruby-identifier">plotted</span>, <span class="ruby-identifier">the</span> <span class="ruby-constant">HTML</span> <span class="ruby-keyword">for</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">button</span> <span class="ruby-keyword">for</span> <span class="ruby-identifier">each</span> <span class="ruby-identifier">of</span>       <span class="ruby-comment">#</span>
     <span class="ruby-identifier">those</span> <span class="ruby-identifier">variables</span> <span class="ruby-identifier">will</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">created</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">returned</span> <span class="ruby-identifier">as</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">single</span> <span class="ruby-identifier">string</span>.                 <span class="ruby-comment">#</span>
        <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-identifier">params</span>[:<span class="ruby-identifier">y_var</span>] = [<span class="ruby-string">'y1'</span>,<span class="ruby-string">'y2'</span>,<span class="ruby-string">'y3'</span>]                                          <span class="ruby-comment">#</span>
        <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-identifier">button_code</span> = <span class="ruby-ivar">@plot</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">linear_reg_buttons</span>(<span class="ruby-identifier">params</span>[:<span class="ruby-identifier">y_var</span>])               <span class="ruby-comment">#</span>
     <span class="ruby-constant">For</span> <span class="ruby-identifier">plots</span> <span class="ruby-identifier">with</span> <span class="ruby-identifier">multiple</span> <span class="ruby-identifier">graph</span> <span class="ruby-identifier">windows</span>, <span class="ruby-identifier">the</span> <span class="ruby-identifier">appropriate</span> <span class="ruby-identifier">window</span> <span class="ruby-identifier">must</span> <span class="ruby-identifier">also</span> <span class="ruby-identifier">be</span>       <span class="ruby-comment">#</span>
     <span class="ruby-identifier">into</span> <span class="ruby-identifier">this</span> <span class="ruby-identifier">function</span><span class="ruby-string">'s calling                                                     #
     In practice, this code must then be rendered live in the VIEW it is being called #
     in                                                                               #
        &gt;&gt; render :inline =&gt; button_code                                              #
     Now each button is tied to a single line in the appropriate graph window, and    #
     is set to activate javascript functions that will analyze that line, report      #
     its coefficients, and draw the newly created linear fit.                         #
                                                                                      #
</span></pre>

<p>&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;#</p>
          

          
          <div class="method-source-code" id="linear_reg_buttons-source">
            <pre><span class="ruby-comment"># File app/models/plot.rb, line 518</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">linear_reg_buttons</span>(<span class="ruby-identifier">list</span>,<span class="ruby-identifier">graphnum</span>=<span class="ruby-string">&quot;&quot;</span>)

  <span class="ruby-identifier">button_str</span> = <span class="ruby-string">''</span>
  <span class="ruby-keyword">for</span> <span class="ruby-identifier">ii</span> <span class="ruby-keyword">in</span> <span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-identifier">list</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>
    <span class="ruby-identifier">button_str</span> <span class="ruby-operator">+=</span> <span class="ruby-string">'&lt;input type=button style=&quot;color:RGBColor(g'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'.getColors().['</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">ii</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">']).toHex;&quot; value=&quot;Regression For --&gt; '</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">list</span>[<span class="ruby-identifier">ii</span>] <span class="ruby-operator">+</span> <span class="ruby-string">'&quot;
                                onClick=&quot;regression'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'('</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">ii</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'), coeffs_'</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">ii</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'()&quot; /&gt;'</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;\n&quot;</span>
    <span class="ruby-identifier">button_str</span> <span class="ruby-operator">+=</span> <span class="ruby-string">'&lt;br/&gt;&lt;div style=&quot;padding:5px; border:2px solid black&quot; id=&quot;Div_'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span>  <span class="ruby-operator">+</span> (<span class="ruby-identifier">ii</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'&quot;&gt;Coefficients are: &lt;/div&gt;&lt;br/&gt;'</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;\n&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">button_str</span> <span class="ruby-operator">+=</span> <span class="ruby-string">'&lt;input type=button value=&quot;Clear Lines&quot; onClick=&quot;clearLines'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'()&quot; /&gt;'</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;\n&quot;</span>
  <span class="ruby-comment">#button_str += '&lt;/div&gt;'   + &quot;\n&quot;</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">button_str</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- linear_reg_buttons-source -->
          
        </div>

        

        
      </div><!-- linear_reg_buttons-method -->

    
      <div id="method-i-list_vars" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">list_vars</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*= <a
href="Plot.html#method-i-list_vars">#list_vars</a>
=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*#</p>

<pre class="ruby"><span class="ruby-constant">Purpose</span><span class="ruby-operator">:</span>                                                                  <span class="ruby-comment">#</span>
    <span class="ruby-constant">Return</span> <span class="ruby-identifier">an</span> <span class="ruby-identifier">array</span> <span class="ruby-identifier">of</span> <span class="ruby-identifier">attribute</span> <span class="ruby-identifier">names</span> <span class="ruby-identifier">as</span> <span class="ruby-identifier">strings</span>.                        <span class="ruby-comment">#</span>
<span class="ruby-constant">Inputs</span><span class="ruby-operator">:</span>                                                                   <span class="ruby-comment">#</span>
    <span class="ruby-constant">None</span>                                                                  <span class="ruby-comment">#</span>
<span class="ruby-constant">Outputs</span><span class="ruby-operator">:</span>                                                                  <span class="ruby-comment">#</span>
    <span class="ruby-identifier">vars</span><span class="ruby-operator">:</span> <span class="ruby-constant">Array</span> <span class="ruby-identifier">of</span> <span class="ruby-identifier">strings</span> <span class="ruby-identifier">containing</span> <span class="ruby-identifier">collected</span> <span class="ruby-identifier">object</span> <span class="ruby-identifier">attributes</span>         <span class="ruby-comment">#</span>
<span class="ruby-constant">Calling</span><span class="ruby-operator">:</span>                                                                  <span class="ruby-comment">#</span>
         <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-identifier">my_varnames</span> = <span class="ruby-ivar">@plot</span>.<span class="ruby-identifier">list_vars</span>                                 <span class="ruby-comment">#</span>
<span class="ruby-constant">Example</span><span class="ruby-operator">:</span>                                                                  <span class="ruby-comment">#</span>
   <span class="ruby-constant">If</span> <span class="ruby-identifier">you</span> <span class="ruby-identifier">have</span> <span class="ruby-identifier">an</span> <span class="ruby-identifier">instantiation</span> <span class="ruby-identifier">with</span> <span class="ruby-identifier">variables</span> <span class="ruby-identifier">like</span><span class="ruby-operator">:</span>                      <span class="ruby-comment">#</span>
         <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-ivar">@plot</span>.<span class="ruby-identifier">x</span> <span class="ruby-ivar">@plot</span>.<span class="ruby-identifier">y</span> <span class="ruby-ivar">@plot</span>.<span class="ruby-identifier">z</span>                                       <span class="ruby-comment">#</span>
   <span class="ruby-constant">You</span> <span class="ruby-identifier">can</span> <span class="ruby-identifier">get</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">list</span> <span class="ruby-identifier">of</span> <span class="ruby-identifier">all</span> <span class="ruby-identifier">attributes</span> <span class="ruby-identifier">by</span> <span class="ruby-identifier">calling</span><span class="ruby-operator">:</span>                       <span class="ruby-comment">#</span>
         <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-ivar">@plot</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">list_vars</span>                                         <span class="ruby-comment">#</span>
   <span class="ruby-identifier">which</span> <span class="ruby-identifier">returns</span> <span class="ruby-identifier">an</span> <span class="ruby-identifier">array</span> <span class="ruby-identifier">consisting</span> <span class="ruby-identifier">of</span><span class="ruby-operator">:</span>                                  <span class="ruby-comment">#</span>
         =<span class="ruby-operator">&gt;</span>[<span class="ruby-string">&quot;x&quot;</span>,<span class="ruby-string">&quot;y&quot;</span>,<span class="ruby-string">&quot;z&quot;</span>]                                                  <span class="ruby-comment">#</span>
                                                                          <span class="ruby-comment">#</span>
</pre>

<p>&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;#</p>
          

          
          <div class="method-source-code" id="list_vars-source">
            <pre><span class="ruby-comment"># File app/models/plot.rb, line 281</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">list_vars</span>
  <span class="ruby-identifier">atts</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">attributes</span>
  <span class="ruby-identifier">vars</span> = []
  <span class="ruby-identifier">atts</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">att</span><span class="ruby-operator">|</span> <span class="ruby-identifier">vars</span>.<span class="ruby-identifier">concat</span>([<span class="ruby-identifier">att</span>[<span class="ruby-value">0</span>]]) }
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">vars</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- list_vars-source -->
          
        </div>

        

        
      </div><!-- list_vars-method -->

    
      <div id="method-i-put_checkboxes" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">put_checkboxes</span><span
            class="method-args">(list,graphnum="")</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>*=*=*=*=*=*=*=*=*=*=*=*=*=*=*= <a
href="Plot.html#method-i-put_checkboxes">#put_checkboxes</a>
=*=*=*=*=*=*=*=*=*=*=*=*=*=*=#</p>

<pre>Purpose:                                                                  #
    Dynamically generate HTML for checkboxes. These will provide the      #
    user with a quick way to toggle multiple plot sets on the current     #
    chart.                                                                #
    *Note that this is HTML, that is tied to DYGRAPHS functionality.      #
    Modify appropriately                                                  #
Inputs:                                                                   #
    list-an array of strings tied to the Y axis variables for each plot   #
         window.                                                          #
    {graphnum}-Optional input, ties the checkbox to a single window. This #
               way,for plots with multiple windows, a checkbox only turns #
               on/off lines for that window                               #
Outputs:                                                                  #
   boxstring: String. HTML formatted string tying HTML checkboxes to      #
              individual plot lines.                                      #
Calling:                                                                  #
        &gt;&gt; @plot.first.put_checkboxes(y_vars)                             #
    This dynamically makes HTML that activates a check box for each of    #
    the y_var strings.                                                    #
Example:                                                                  #
    If the Y variables of a plot are contained within an array as:        #
        &gt;&gt;params[:y_var] = ['y1','y2']                                    #
    Then inside a view:  #                                                #
        &lt;%=render :inline =&gt; @plot.first.put_checkboxes(params[:y_var])%&gt; #
    *Note that this function returns a formated string. So in order to    #
    use the string inside the view, you must use the protocol:            #
         render :inline =&gt;                                                #
                                                                          #</pre>

<p>&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;—&lt;*&gt;#</p>
          

          
          <div class="method-source-code" id="put_checkboxes-source">
            <pre><span class="ruby-comment"># File app/models/plot.rb, line 321</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">put_checkboxes</span>(<span class="ruby-identifier">list</span>,<span class="ruby-identifier">graphnum</span>=<span class="ruby-string">&quot;&quot;</span>)
  <span class="ruby-identifier">boxstring</span> = <span class="ruby-string">''</span> <span class="ruby-comment">#</span>
  <span class="ruby-keyword">for</span> <span class="ruby-identifier">ii</span> <span class="ruby-keyword">in</span> <span class="ruby-value">0</span><span class="ruby-operator">..</span>(<span class="ruby-identifier">list</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>)
    <span class="ruby-identifier">boxstring</span> <span class="ruby-operator">+=</span> <span class="ruby-string">&quot;&lt;input type=checkbox id='&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">ii</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;' checked onClick='change&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">graphnum</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-string">&quot;(this)'&gt; \n&quot;</span>
    <span class="ruby-identifier">boxstring</span> <span class="ruby-operator">+=</span> <span class="ruby-string">&quot;&lt;label for='&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">ii</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;'&gt;&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">list</span>[<span class="ruby-identifier">ii</span>] <span class="ruby-operator">+</span> <span class="ruby-string">&quot; &lt;/label&gt;&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&lt;br/&gt;&quot;</span> <span class="ruby-keyword">unless</span> (<span class="ruby-identifier">ii</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">list</span>.<span class="ruby-identifier">length</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">boxstring</span> <span class="ruby-operator">+=</span> <span class="ruby-string">'&lt;/p&gt;'</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">boxstring</span>

<span class="ruby-keyword">end</span></pre>
          </div><!-- put_checkboxes-source -->
          
        </div>

        

        
      </div><!-- put_checkboxes-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

