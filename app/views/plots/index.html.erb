<h1> Welcome to the Interactive Plotting Engine!</h1>

<%#= button_to 'Example Plot', :controller => "/plots/example" %>
<%#= button_to 'All DB Plot', :controller => "/plots/all" %>
<%#= button_to 'All with params', :controller =>"/plots/all" ,:name => "test 1",:y_var =>y2,:y_varname => "y2"%>
<br>
<div style="text-align:center"><%= image_tag('/ZD_Consulting.jpg', :align => :center) %>  </div>
<p style="text-align:center"> University of Colorado, Aerospace Engineering Sciences</p>
<p style="text-align:center"> zach.dischner@colorado.edu</p>
</br>


<br>
<table style="padding:10px; border-width:10px; border-color:green; position:relative; top:50px" align="center" border="4" cellpadding=40px>
  <tr>
    <td colspan=3 text-align=center style="text-align:center; align:center">
      <%= form_tag "/goplot", :method => "get" do %>
          <! Selector for the 'x' variable to be plotted>
          <h style="text-align:left"> Select Variables to Plot</h>

          <p style="background-color: #C0C0C0;
                  border-style:solid; border-radius: 0.5em; box-shadow: 8px 8px 5px #808080;text-align:center">
            <br>
            <%= label(:plot, :x_var, "X") %>
            <%= select_tag(:x_var, options_for_select(@tags.map { |t| [t, t.to_s] }), :multiple => false) %>

            <%= label(:plot, :y_var, "Y") %>
            <%= select_tag(:y_var, options_for_select(@tags.map { |t| [t, t.to_s] }), :multiple => true) %>

            <! If there is no filter (database columns are unique), just get rid of this section, hardcode
            params[:filter] = ["No Filter"] !>
            <%= label(:plot, :filter, "Filter") %>
            <%= select_tag(:filter, options_for_select(@filters.map { |t| [t, t.to_s] }), :multiple => true) %>

            <%#= calendar_date_select_tag "e_date", nil, :embedded => true, :year_range => 10.years.ago..0.years.ago %>




            </br>
          </p>
          </td>
          </tr>

          <td colspan=3 height=10px style="height:10px">
            <p font=bolder style="text-align:center; font:bold"> Select Range for Horizontal Axis-Either in terms of "X" or Dates</p>
          </td>
          <tr>
          <tr>
            <td>
              <p style="background-color: #C0C0C0; max-width: 450px;height:50px;
                      border-style:outset; border-color: #888888; border-radius: 0.5em;
                      text-align: center">
                Select "X" Range for Plotting
                <br>
                <%= label(:plot, :x_start, "Start") %>
                <%= number_field_tag(:x_start, params[:x_start]) %>

                <%= label(:plot, :x_end, "End") %>
                <%= number_field_tag(:x_end, params[:x_end]) %>
                </br>
              </p>
            </td>


            <!--Here is a radiobuttion selector, which decides if you want to view the data -->
            <!--with checkbox line selectors, or a linear regression option. -->
            <td>
              <br>
              <%= radio_button_tag 'feature', 'Both', :true %>
              <%= label(:plot, :feature, "Both") %>
              </br>
              <br>
              <%= radio_button_tag 'feature', 'Linear Regression' %>
              <%= label(:plot, :feature, "Linear Regression ") %>
              </br>
              <br>
              <%= radio_button_tag 'feature', 'Checkboxes' %>
              <%= label(:plot, :feature, "Checkboxes") %>
              </br>
            </td>

            <td>
              <!-- This is the block that creates a selector for  Datetime options-->
              <!-- It populates a Datetime param that is used in dynamic scope selectors-->
              <p style="background-color: #C0C0C0; width: 350px;height:100px;
                      border-style:outset; border-radius: 0.5em; border-color:#888888;
                      text-align: center">
                Select DATE Range for Plotting
                <br>
                <%= label(:plot, :date_start, "Start") %>
                <%= date_select(:date_start, params[:date_start], :include_blank => true) %>
                </br><br>
                <%= label(:plot, :date_end, "End") %>
                <%= date_select(:date_end, params[:date_end], :include_blank => true) %>
                </br>
              </p>

            </td>
          </tr>
          <!--</table>-->
          </tr>

          <tr>
            <td colspan=3 style="align:center; text-align:center">
              <%= submit_tag("submit!") %>
            </td>
          </tr>
          </table>
      <% end %>




